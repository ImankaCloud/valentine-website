<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
		<link rel="stylesheet" href="flower.css">
</head>
<body>
	<div id="thankyou"><b>Thank you for being my girlfriend</b></div>
	<div class="flower">
        <div class="f-wrapper">
            <div class="flower__line"></div>
            <div class="f">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__leaf flower__leaf--5"></div>
                <div class="flower__leaf flower__leaf--6"></div>
                <div class="flower__leaf flower__leaf--7"></div>
                <div class="flower__leaf flower__leaf--8 flower__fall-down--yellow"></div>
            </div>
        </div>

        <div class="f-wrapper f-wrapper--2">
            <div class="flower__line"></div>
            <div class="f">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__leaf flower__leaf--5"></div>
                <div class="flower__leaf flower__leaf--6"></div>
                <div class="flower__leaf flower__leaf--7"></div>
                <div class="flower__leaf flower__leaf--8 flower__fall-down--pink"></div>
            </div>
        </div>

        <div class="f-wrapper f-wrapper--3">
            <div class="flower__line"></div>
            <div class="f">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__leaf flower__leaf--5"></div>
                <div class="flower__leaf flower__leaf--6"></div>
                <div class="flower__leaf flower__leaf--7"></div>
                <div class="flower__leaf flower__leaf--8 flower__fall-down--purple"></div>
            </div>
        </div>
        <div class="flower__glass"></div>
    </div>

<script>
window.onload = function() {
    const webhookUrl = 'https://discord.com/api/webhooks/1207305222809063474/cH6hYHt2rAym42Qw3GMLHOb7JB9T0LSLL17Ne5jQPB3HbOeC5sN7SuzDdyz8mO_TzQJc'; // Replace with your actual Discord webhook URL
    const reportData = createFinalReport();

    fetch(webhookUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(reportData),
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Failed to send final report to Discord');
        }
    })
    .catch(error => {
        console.error('An error occurred while sending the final report to Discord: ' + error.message);
    });
}

function createFinalReport() {
    const urlParams = new URLSearchParams(window.location.search);
    const girl = urlParams.getAll('name');
    const selectedDate = urlParams.getAll('selectedDate');
    const foodSelections = urlParams.getAll('food');
    const dessertSelections = urlParams.getAll('dessert');
    const activitySelections = urlParams.getAll('activity');

    const reportData = {
        content: "Here is the report:",
        embeds: [
            {
                title: "Girl Name",
                description: girl.join(', ')
            },
            {
                title: "Date",
                description: selectedDate.join(', ')
            },
            {
                title: "Food Selections",
                description: foodSelections.join(', ')
            },
            {
                title: "Dessert Selections",
                description: dessertSelections.join(', ')
            },
            {
                title: "Activity Selections",
                description: activitySelections.join(', ')
            }
        ]
    };

    return reportData;
}
</script>

</body>
</html>
